tests:
  - name: nil_tuple
    model: |
        type user
    code: 3

  - name: empty_tuple
    model: |
      type user
    request:
      object:
      relation:
      user:
    code: 2009

  - name: empty_object
    model: |
      type user
    request:
      object:
      relation: viewer
      user: user:aardvark
    code: 2009

  - name: empty_relation
    model: |
      type user
    request:
      object: user:aardvark
      relation:
      user: user:badger
    code: 2009

  - name: empty_user
    model: |
      type user
    request:
      object: user:aardvark
      relation: viewer
      user:
    code: 2009

  - name: relation_not_in_model
    model: |
      type user
    request:
      object: user:aardvark
      relation: viewer
      user: user:badger
    code: 2022

  - name: user_type_not_in_model
    model: |
      type user
      
      type document
        relations
          define viewer: [user] as self
    request:
      object: document:1
      relation: viewer
      user: folder:x
    code: 2021

  - name: user_invalid
    model: |
      type document
        relations
          define viewer: [user] as self
    request:
      object: document:1
      relation: viewer
      user: a:b:c
    code: 2025

  - name: circular_model
    model: |   
      type user
      
      type document
        relations
          define viewer as writer
          define writer as viewer
    request:
      object: document:1
      relation: viewer
      user: user:aardvark
    code: 2002


